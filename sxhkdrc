//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "Unit1.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm1 *Form1;
//---------------------------------------------------------------------------
__fastcall TForm1::TForm1(TComponent* Owner)
	: TForm(Owner)
{
}
//---------------------------------------------------------------------------
bool EsVocal(char x)
{ AnsiString vocales="aeiouàèìòùAEIOU";
  return vocales.Pos(x)>0;
}
//D:\archivo\ejer2.txt
Cardinal CantVoc(AnsiString nomArch)
{ Cardinal c=0; char x;
  fstream pf(nomArch.c_str());
  if(!pf.fail()){  //si no fallo al abrir
	  while(!pf.eof()){//mientras no haiga leido la marca ed fin de archivo
		 x=pf.get();
		 if(!pf.eof()){
			  if(EsVocal(x)){
				 c++;
			  }
		  }
	  }
	  pf.close();
   }
 return c;

}

void __fastcall TForm1::Button1Click(TObject *Sender)
{
 //esto era para saber la ubicacion del archivo el nombre
   if (OpenTextFileDialog1->Execute())
   {
	   Edit1->Text=OpenTextFileDialog1->FileName;
		Edit2->Text=CantVoc(OpenTextFileDialog1->FileName);
   }

}
//---------------------------------------------------------------------------
Cardinal CantDig(AnsiString nomArch)
{ Cardinal c=0; char x;
  fstream pf(nomArch.c_str());
  if(!pf.fail()){  //si no fallo al abrir
	  while(!pf.eof()){//mientras no haiga leido la marca ed fin de archivo
		 x=pf.get();
		 if(!pf.eof()){
			  if(isdigit(x)){
				 c++;
			  }
		  }
	  }
	  pf.close();
   }
 return c;

}
void __fastcall TForm1::Button2Click(TObject *Sender)
{
  //esto era para saber la ubicacion del archivo el nombre
   if (OpenTextFileDialog1->Execute())
   {
	   Edit1->Text=OpenTextFileDialog1->FileName;
	   Edit2->Text=CantDig(OpenTextFileDialog1->FileName);
   }

}
//---------------------------------------------------------------------------
/*AnsiString primer_letra_mayuscula(AnsiString nom) {        //{}   []


}     */
bool EsLetra(char x){
  AnsiString letras="qwertyuiopadfghjklñzxcvbnmQWERTYUIOPASDFGHJKLÑZXCVBNM";
  return letras.Pos(x)>0;
}
void MayusMin(char lin[]){
   Word i,n,p;   bool sw=false;
   AnsiString may="QWERTYUIOPASDFGHJKLÑZXCVBNM";
   AnsiString min="QWERTYUIOPASDFGHJKLÑZXCVBNM";
   n=strlen(lin);
   for(i=0; i<n; i++){
	  if(EsLetra(lin[i])){
		 if(sw){                        //demas letras
			 p=may.Pos(lin[i]);
			 if(p>0){
				 lin[i]=min[p];
			 }
		 }else{            //primer letra
			 p=min.Pos(lin[i]);
			  if(p>0)
				 lin[i]=may[p];

			 sw=true;
         }
	  }
   }
}
void ActualizarMayMin(AnsiString nom) {
  AnsiString linea; char lin[ 500]; Word i,n;
  fstream pf1(nom.c_str());
  ofstream pf2("temporal.tmp");
  if(!pf1.fail()) {
	  while(!pf1.eof()){
		   pf1.getline(lin,500);
		   MayusMin(lin);
		   n=strlen(lin);
		   for(i=0; i<n; i++)
			 pf2.put(lin[i]);
		   if(!pf1.eof())
			 pf2.put(10);
		//   }
	  }
	  pf1.close(); pf2.close();
	  remove(nom.c_str());
	  rename("temporal.tmp",nom.c_str()) ;
  }

}

void __fastcall TForm1::Button3Click(TObject *Sender)
{
	  if (OpenTextFileDialog1->Execute())
   {
	   Edit1->Text=OpenTextFileDialog1->FileName;
	   ActualizarMayMin(OpenTextFileDialog1->FileName);
   }
}
//---------------------------------------------------------------------------
void Actualizar(AnsiString nom) {
  AnsiString linea; char lin[ 501]; Word i,n;
  fstream pf1(nom.c_str());
  ofstream pf2("temporal.tmp");
  if(!pf1.fail()) {
	  while(!pf1.eof()){
		   pf1.getline(lin,500);
		  linea=lin;
		   linea=linea.TrimLeft();   //elimina todo lo de la izquierda
		   strcpy(lin,linea.c_str());//
		   MayusMin(lin);
		   n=strlen(lin);
		   for(i=0; i<n; i++)
			 pf2.put(lin[i]);
		   if(!pf1.eof())
			 pf2.put(10);
	  }
	  pf1.close(); pf2.close();
	  remove(nom.c_str());
	  rename("temporal.tmp",nom.c_str()) ;
  }

}

void __fastcall TForm1::Button4Click(TObject *Sender)
{
  if (OpenTextFileDialog1->Execute())
   {
	   Edit1->Text=OpenTextFileDialog1->FileName;
	   Actualizar(OpenTextFileDialog1->FileName);
   }
}
//---------------------------------------------------------------------------





#
# wm independent hotkeys
#
# Disminuir brillo
XF86MonBrightnessDown
    brightnessctl s 10%-  # Usando brightnessctl

# Aumentar brillo
XF86MonBrightnessUp
    brightnessctl s 10%+  # Usando brightnessctl

# terminal emulator
super + Return 
	/opt/kitty/bin/kitty

# program launcher
super + d
	/usr/bin/rofi -show run

# make sxhkd reload its configuration files:
super + Escape
	pkill -USR1 -x sxhkd

#
# bspwm hotkeys
#

# quit/restart bspwm
super + shift + {q,r}
	bspc {quit,wm -r}

# close and kill
super + {_,shift + }q
	bspc node -{c,k}

# alternate between the tiled and monocle layout
super + m
	bspc desktop -l next

# send the newest marked node to the newest preselected node
super + y
	bspc node newest.marked.local -n newest.!automatic.local

# swap the current node and the biggest window
super + g
	bspc node -s biggest.window

#
# state/flags
#

# set the window state
super + {t,shift + t,s,f}
	bspc node -t {tiled,pseudo_tiled,floating,fullscreen}

# set the node flags
super + ctrl + {m,x,y,z}
bspc node -g {marked,locked,sticky,private}

#
# focus/swap
#

# focus the node in the given direction
super + {_,shift + }{Left,Down,Up,Right}
	bspc node -{f,s} {west,south,north,east}

# focus the node for the given path jump
super + {p,b,comma,period}
	bspc node -f @{parent,brother,first,second}

# focus the next/previous window in the current desktop
super + {_,shift + }c
	bspc node -f {next,prev}.local.!hidden.window

# focus the next/previous desktop in the current monitor
super + bracket{left,right}
	bspc desktop -f {prev,next}.local

# focus the last node/desktop
super + {grave,Tab}
	bspc {node,desktop} -f last

# focus the older or newer node in the focus history
super + {o,i}
	bspc wm -h off; \
	bspc node {older,newer} -f; \
	bspc wm -h on 

# focus or send to the given desktop 
super + {_,shift + }{1-9,0}
	bspc {desktop -f,node -d} '^{1-9,10}'

#
# preselect
#

# preselect the direction
super + ctrl + alt +{Left,Down,Up,Right}
	bspc node -p {west,south,north,east}

# preselect the ratio
super + ctrl + {1-9}
	bspc node -o 0.{1-9}

# cancel the preselection for the focused node
super + ctrl + alt + space
	bspc node -p cancel

# cancel the preselection for the focused desktop
super + ctrl + shift + space
	bspc query -N -d | xargs -I id -n 1 bspc node id -p cancel

#
# move/resize
#
# move a floating window
super + shift + {Left,Down,Up,Right}
	bspc node -v {-20 0,0 20,0 -20,20 0}

# Custon Resize 
super + alt + {Left,Down,Up,Right}
	/home/trojan/.config/bspwm/scripts/bspwm_resize {west,south,north,east}

super + shift + f 
	/usr/bin/firefox
